---
layout: post
title: ORB-SLAM2:An Open-Source SLAM System for Monocular, Stereo, and RGB-D Cameras
date: 2023-3-29 
tags: Paper
---

*This is the translation of the [paper](https://arxiv.org/abs/1610.06475)*

# 摘要：

本文提出了一种能够使用单目相机、双目相机和RGB-D相机的完整SLAM系统，称为ORB-SLAM2。该系统具有地图复用、回环检测和重定位功能。ORB-SLAM2能够实时在标准的中央处理器上运行，并能够在从小型室内手持设备到工业环境中飞行的无人机再到绕城市行驶的汽车等多种环境下工作。该系统基于带有单双目观测的光束平差法（BA）进行后端优化，从而实现精确的轨迹估计。本文所提出的系统包含一个轻量级的定位模式，该模式利用视觉里程计来跟踪未建图区域并匹配地图点以实现零漂移定位。在29个广泛使用的公开数据集下测试的结果表明，本文所提出的SLAM方法能够在多数情况下获得最高的精度。本文开源代码，不仅为了造福SLAM社区，更是为了给其他研究领域的研究人员提供一个可以直接使用的SLAM解决方案。

关键词：定位，建图，RGB-D，同时定位与建图（SLAM），双目

# I 引言
同时定位与建图技术（SLAM）在过去的二十年间已经成为计算机视觉和机器人领域中的研究热点，并在近年来吸引着高科技公司的关注。SLAM技术能够建立未知环境的地图并通过高度实时的操作来对地图中的传感器进行定位。在众多传感器中，相机不仅便宜，而且能够为实现鲁棒而准确的位置识别提供丰富的环境信息。因此，以相机为主要传感器的视觉SLAM解决方案成为了主要的研究方向。位置识别是SLAM系统实现回环检测（检测传感器回到了已建图位置并修正建图过程中的累积误差）的关键一环，并且对于实现由陷入闭塞环境或剧烈运动或系统重新初始化导致的轨迹丢失后的重定位起到重要作用。

视觉SLAM能够通过仅使用一个单目相机实现，这种传感器是最便宜最小的。然而，由于深度信息无法通过单一相机获取，导致了地图规模和估计的轨迹都是不确定的。除此以外，由于不能在初始帧进行三角测量，因此系统自启动需要多视图或滤波器技术来产生一个初始地图。最后，单目SLAM存在尺度漂移问题，如果在传感器探索未知区域的过程中发生了纯旋转则可能会失败。通过使用一个双目相机或RGB-D相机能够解决这些问题并实现最可靠的视觉SLAM。

本文基于单目ORB-SLAM框架提出ORB-SLAM2，该算法有以下贡献：

1. 第一个具有回环检测、重定位和地图复用功能的开源SLAM系统，并能够使用单目、双目和RGB-D相机实现。
2. RGB-D相机测试结果表明使用光束平差法（BA）获得的结果比基于迭代最近点法（ICP）或广度深度误差最小化法的主流方法更准确。
3. 通过使用远近双目点和单目观测，我们的双目相机测试结果比主流的双目SLAM系统更精确。
4. 轻量级的定位模式使得建图失效时系统能有效对地图进行复用。

图1给出了ORB-SLAM2系统输入双目和RGB-D相机数据时的输出结果。双目相机结果展现了最终的轨迹和对KITTI数据集中的00数据段的稀疏重建结果。KITTI数据集是一个带有多个回环的城市数据集，ORB-SLAM2能够成功检测到这些回环。RGB-D相机结果展示了TUM RGB-D数据集中的fr1-room数据段的关键帧估计位姿，并给出了根据估计关键帧位姿，对传感器深度图反向投影得到的稠密点云。值得注意的是，本文提出的SLAM方法并没有进行任何形式的融合，如KinectFusion或类似的方法，但是仍然能够精确估计关键帧的位姿。本文算法的更多示例在附件视频中展示。

![fig1](https://effun.xyz/images/ORB-SLAM2/fig1.jpg)

图1. ORB-SLAM2处理输入的双目和RGB-D相机数据来估计降级轨迹并建立环境地图。系统能够在实时CPU上运行并实现高精度和鲁棒性的回环检测、重定位和地图复用。(a) 双目输入下：得到轨迹和对包含多闭环的城市环境的重建结果。（b）RGB-D输入下：得到关键帧和仅有一个闭环的室内场景的点云。点云图是根据关键帧对传感器深度图反向投影渲染得到

下面，本文将在第II部分给出相关工作，在第III部分描述本文所设计的系统，接着在第IV部分给出估计结果，最后在第V部分给出结论。


# II 相关工作

本章将讨论关于双目和RGB-D SLAM的相关工作。本章所讨论的内容与第IV章的估计结果仅针对SLAM方法。

## A. 双目SLAM

Paz等人开发的SLAM系统是早期优秀的双目SLAM方案。该方案基于条件独立分治的扩展卡尔曼滤波SLAM（EKF-SLAM）实现。并且相比于当时的其他方法，这种方案能在更大的环境下运行。最重要的是，它是第一个同时利用近点和远点（即由于双目相机的左右目图像差异小而不能准确估计其深度的点）的双目SLAM方案，并对远点使用逆参数估计。Paz等人基于工程经验提出当空间点的深度小于双目相机基线的40倍时，其才可以被有效三角化。本文将遵循用不同方式处理远近点的策略，具体解释将在III-A部分给出。

目前，多数的双目SLAM系统都是基于关键帧实现的，并通过局部BA优化获得可扩展性。Strasdat等人在关键帧滑窗内的BA（点-位姿约束）和外部窗口中的位姿图（位姿-位姿约束）进行联合优化。通过限制滑窗的尺寸，这种方法获得了恒定的时间复杂度，但是代价是不能保证全局一致性。Mei等人提出的RSLAM使用了地标和位姿的相对位置表示方法并在活跃区域进行相对BA，这种方法受到恒定时间约束。RSLAM能够实现闭环，这使得它能够在每一个闭环两边扩展活动区域而不影响全局一致性。最近，有Pire等人提出的S-PTAM方法只进行局部BA，它缺少大规模的回环检测。与这些方法相似的是，本文对局部的一系列关键帧进行BA优化以使得复杂度不受地图尺寸的影响并允许ORB-SLAM2能够在大规模环境下运行。然而，本文的目标是建立一个全局一致的地图。与RSLAM相似的是，当发生回环时，本文所设计的系统能够先将地图两端对齐，使追踪线程可以使用之前的地图持续定位，接着进行位姿图优化以减小闭环中的累积漂移。随后进行全局BA。

Engel等人最近提出的双目大规模直接SLAM（LSD-SLAM）是一种半稠密直接SLAM方法，能够减小高梯度图像区域的光度误差。这种方法希望能够在不依靠图像特征的情况下，当受到动态扰动或处于纹理较少的环境中时能够更加鲁棒。但是由于这是一种直接法，当受到未建模因素例如卷帘快门和非朗伯反射的影响时，其性能会大幅下降。

## B.RGB-D SLAM

Newcombe等人提出的KinectFusion是最早最著名的RGB-D SLAM系统之一。这种方法将传感器获得的所有深度数据融合成一个体积稠密模型，用于使用ICP法跟踪相机位姿。受限于体积表示和缺少回环检测，该系统只能在小空间范围内运行。Whelan等人提出的Kintinuous通过设置一个滚动循环缓冲区和包含基于位置识别和位姿图优化的回环检测使得系统能够在大规模场景下运行。

Endres等人提出的RGB-D SLAM方法可能是第一个收到广泛好评的开源SLAM方案。该方法是基于特征点实现的，其前端通过特征匹配和ICP方法计算帧对帧的运动，后端则进行带有回环的位姿优化，回环约束由启发式搜索得到。与之相似的是Kerl等人提出的DVO-SLAM的后端，优化了带有从视觉里程计中计算得到的关键帧对关键帧约束的位姿图，减少了光度和深度的误差。DVO-SLAM同时还